<?xml version="1.0" encoding="euc-kr"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN'
	'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="category">
	
	<typeAlias alias="category" type="category.category_bin"/>
	
	<resultMap id="categoryRes" class="category">
		<result property="category_no" column="category_no" />
		<result property="category_name" column="category_name" />
		<result property="status" column="status" />
	</resultMap>	
	
	<select id="selectAll" resultMap="categoryRes" parameterClass="category">
		select * from category ORDER BY category_no DESC
	</select>
	
	<insert id="insertCategory" parameterClass="category">
		INSERT INTO category(category_no, category_name, depth, parent_no, status)
		VALUES (category_no_seq.NEXTVAL, #category_name#, 1, 0, #status#)
	</insert>
	
	<update id="updateCategory" parameterClass="category">
		UPDATE category SET category_name = #category_name#, 
						status = #status#
		where category_no = #category_no#
	</update>	
	
</sqlMap>